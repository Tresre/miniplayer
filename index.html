<!DOCTYPE html>
<html>
<link rel="stylesheet" media="screen" href="style.css">
<style>
  @import url(https://fonts.googleapis.com/css2?family=Source+Code+Pro);
</style>
<body>
  <div class="musicplayer">
    <label class="play">
      <input type="checkbox" id="musicToggle" onclick="musicPlayer()">
      <span class="playtoggle"><img src="https://media4.giphy.com/media/XaejLonqk19jDugJbq/giphy.gif?" alt="" style="width:90px; height:90px; border-radius: 90px; object-fit: cover;"></span>
    </label>
    <label class="button">
      <input class="bslider" type="checkbox" id="musicMute" onclick="musicVolume()" checked>
      <span class="bslider"></span>
    </label>
    <h1 class="vibing">What I'm Vibing</h1>
    <span id="songChoice" class="songname" onclick="chooseSong(1)" style="cursor: pointer;"></span>
  </div>

  <audio id="Down In Kokomo">
    <source src="http://sndup.net/g635/d" type="audio/mpeg" autostart="false" width="500" height="90" loop="true">
    Your browser does not support the <code>audio</code> element.
  </audio>
  <audio id="Send Me An Angel">
    <source src="http://sndup.net/mkvy/d" type="audio/mpeg" autostart="false" width="500" height="90" loop="true">
    Your browser does not support the <code>audio</code> element.
  </audio>
  <audio id="Gotta Get Up">
    <source src="http://sndup.net/xy7q/d" type="audio/mpeg" autostart="false" width="500" height="90" loop="true">
    Your browser does not support the <code>audio</code> element.
  </audio>

<script>
var music;
var songChoice;
chooseSong(0);

var endmusic = music;
endmusic.onended = function() {
  chooseSong(1);
};

function chooseSong(p) {
  var lastSong = songChoice;
  var playlist = [
  "Down In Kokomo",
  "Send Me An Angel",
  "Gotta Get Up"
  ];

  var randomItem = playlist[Math.floor(Math.random()*playlist.length)];
  
  var setmusic = music;
  if (setmusic !== undefined) {
  	setmusic.pause();
  }
  
  if (lastSong === randomItem) {
  	chooseSong(1);
    return;
  } else {
    songChoice = (randomItem);
    document.getElementById("songChoice").innerHTML = songChoice;
    music = document.getElementById(randomItem);

    if (p === 1) {
      music.play();
      music.currentTime = 0;
    }
  }
}

function musicVolume(vol) {
  var checkBox = document.getElementById("musicMute");
  var setmusic = music;
  if (vol === undefined) {
  	if (checkBox.checked == true) {
      setmusic.volume = 1;
    } else {
      setmusic.volume = 0;
    }
  } else {
    setmusic.volume = vol;
  }
}

function musicPlayer() {
  var checkBox = document.getElementById("musicToggle");
  var setmusic = music;
  if (checkBox.checked == true) {
    setmusic.play();
  } else {
    setmusic.pause();
  }
}
</script>

</body>
</html>
